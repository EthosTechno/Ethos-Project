import{_ as Co}from"./back-Icon.07ef3128.js";import{_ as Vt,z as Ze,u as he,o as A,c as T,a as c,w as Ke,n as lt,O as W,ac as dt,F as mt,f as Rt,t as ut,p as Ut,i as Xt,q as U,r as $e,N as Je,j as Bt,b as pe,d as tt,h as ne,V as Eo,ad as Le,B as Do,g as Io,E as to,R as xo,$ as ge,a8 as Ao,a9 as To,M as Po}from"./index.07cdec20.js";import{p as vt,D as Oo}from"./vue3-loading-overlay.51646cde.js";/* empty css                                                              */import{I as eo}from"./InputGroup.289a36f5.js";import{u as oo,c as ie,m as re,r as ae}from"./messages.d52f21eb.js";import"./main.f0ba9a92.js";/* empty css                                                                */import"./createProject.service.d5875826.js";import"./http.5479f9b0.js";import"./companySettings.service.6df5152f.js";import"./InputText.386db282.js";var No="/assets/drag-icon.0069cee3.svg",no="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADDSURBVHgBjVKJEcIgEISMBVBC7EArsQTSgXQQUolagpWQDrAD7eDcm8AECHl2ZjMH3Ls5IRIQkQJ70NMMBz7AVtSABw1+aR38ZsqgOx2HjkHtTqVaZdUgtgdV0sAIDsl5CHcR7GtO+FyKcd9SSousHz7AfnKZwk+LzTlm0RZoRB1yxc4U9UUym1TSwbaFj+MZX0GgiFuYKSY4811Rb5QsLQwvcmW38AOvsd2OjmOxPYb2V66r9kDTFvF/c0mAD+Jko/wB0QKTS+0OzngAAAAASUVORK5CYII=",io="/assets/modal-stage-detele.b39da2c9.svg";const $o={name:"StageModal",components:{InputGroup:eo},emits:["close","closeNo"],props:{projectId:{type:Number},projectStageId:{type:Number},editFormValue:{type:Object}},setup(){const e=()=>({stageName:"",stageDescription:"",stagePromptCopy:"",stagePromptUrl:""});return{v$:oo(),getInitialFormData:e}},data(){return{stageForm:Ze(this.getInitialFormData()),showModal:!1}},validations(){return{stageForm:{stageName:{required:ie.withMessage(re.stageName_requierd,ae)},stageDescription:{required:ie.withMessage(re.stageDesc_requierd,ae)}}}},methods:{editForm(e){var t,o,n;this.v$.stageForm.stageName.$model=e.stageName,this.stageForm.stageDescription=(t=e.stageDescription)!=null?t:"",this.stageForm.stagePromptCopy=(o=e.stagePromptButtonCopy)!=null?o:"",this.stageForm.stagePromptUrl=(n=e.stagePromptButtonUrl)!=null?n:""},handleSubmit(){if(this.v$.$touch(),this.v$.$invalid)this.submitStatus="ERROR";else{const e=this.getBody();vt.cretaeProjectSatge(e).then(t=>{he().success(t,{timeout:3e3}),this.v$.$reset(),Object.assign(this.stageForm,this.getInitialFormData()),this.$emit("close")})}},getBody(){const e=this.stageForm;return{projectStageId:0,projectId:this.projectId,stageName:e.stageName,stageDescription:e.stageDescription,stagePromptButtonCopy:e.stagePromptCopy,stagePromptButtonUrl:e.stagePromptUrl}},handleClose(){this.v$.$reset(),Object.assign(this.stageForm,this.getInitialFormData()),this.$emit("closeNo")}}},_t=e=>(Ut("data-v-19ec973f"),e=e(),Xt(),e),jo={class:"custom-model"},Fo={class:"modal__content"},Mo={class:"modal-header"},ko=_t(()=>c("span",{class:"modal__title"},"Portal Project Stage",-1)),Lo={class:"close-button"},Ro=_t(()=>c("span",null,[c("img",{src:no,alt:"close"})],-1)),Bo=[Ro],Vo={class:"content-part"},Uo={class:"portal-new-form"},Xo=_t(()=>c("label",null,"Stage Name *",-1)),Yo={class:"error-msg"},Ho=_t(()=>c("label",null,"Stage Description *",-1)),Go={class:"error-msg"},zo={class:"form-group"},Wo=_t(()=>c("label",null,"Stage Prompt button copy",-1)),qo={class:"form-group"},Qo=_t(()=>c("label",null,"Stage Prompt button url",-1)),Zo={class:"btn-action-wrape"},Ko=_t(()=>c("img",{src:io,alt:"delete"},null,-1)),Jo=[Ko];function tn(e,t,o,n,i,r){return A(),T("div",jo,[c("div",Fo,[c("div",Mo,[ko,c("div",Lo,[c("button",{type:"button",class:"close-btn",onClick:t[0]||(t[0]=(...a)=>r.handleClose&&r.handleClose(...a))},Bo)])]),c("div",Vo,[c("div",Uo,[c("form",{onSubmit:t[5]||(t[5]=Ke((...a)=>r.handleSubmit&&r.handleSubmit(...a),["prevent"]))},[c("div",{class:lt(["form-group",{error:n.v$.stageForm.stageName.$errors.length}])},[Xo,W(c("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=a=>n.v$.stageForm.stageName.$model=a),placeholder:"Stage Name",maxlength:"155"},null,512),[[dt,n.v$.stageForm.stageName.$model,void 0,{trim:!0}]])],2),(A(!0),T(mt,null,Rt(n.v$.stageForm.stageName.$errors,a=>(A(),T("div",{class:"input-errors",key:a.$uid},[c("div",Yo,ut(a.$message),1)]))),128)),c("div",{class:lt(["form-group",{error:n.v$.stageForm.stageDescription.$errors.length}])},[Ho,W(c("textarea",{class:"form-control",rows:"5","onUpdate:modelValue":t[2]||(t[2]=a=>n.v$.stageForm.stageDescription.$model=a),placeholder:"Stage Description",maxlength:"500"},null,512),[[dt,n.v$.stageForm.stageDescription.$model,void 0,{trim:!0}]])],2),(A(!0),T(mt,null,Rt(n.v$.stageForm.stageDescription.$errors,a=>(A(),T("div",{class:"input-errors",key:a.$uid},[c("div",Go,ut(a.$message),1)]))),128)),c("div",zo,[Wo,W(c("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=a=>i.stageForm.stagePromptCopy=a),placeholder:"Stage copy",maxlength:"30"},null,512),[[dt,i.stageForm.stagePromptCopy]])]),c("div",qo,[Qo,W(c("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=a=>i.stageForm.stagePromptUrl=a),placeholder:"Stage url",maxlength:"255"},null,512),[[dt,i.stageForm.stagePromptUrl,void 0,{trim:!0}]])])],32),c("div",Zo,[c("button",{type:"button",class:"dlt-btn",onClick:t[6]||(t[6]=(...a)=>r.handleClose&&r.handleClose(...a))},Jo),c("button",{class:"btn-action",onClick:t[7]||(t[7]=(...a)=>r.handleSubmit&&r.handleSubmit(...a))},"Save Stage")])])])])])}var en=Vt($o,[["render",tn],["__scopeId","data-v-19ec973f"]]);const on={name:"StageModal",components:{InputGroup:eo},emits:["close","closeNo"],props:{projectId:{type:Number},projectStageId:{type:Number},editProjectStageData:{type:Object}},setup(){const e=()=>({stageEditName:"",stageEditDescription:"",stageEditCopy:"",stageEditUrl:""});return{v$:oo(),getInitForm:e}},watch:{editProjectStageData:function(){this.setForm.stageEditName=this.editProjectStageData.stageName,this.setForm.stageEditDescription=this.editProjectStageData.stageDescription,this.setForm.stageEditCopy=this.editProjectStageData.stagePromptButtonCopy,this.setForm.stageEditUrl=this.editProjectStageData.stagePromptButtonUrl}},data(){return{setForm:Ze(this.getInitForm()),editProjectStageData:this.editProjectStageData}},validations(){return{setForm:{stageEditName:{required:ie.withMessage(re.stageName_requierd,ae)},stageEditDescription:{required:ie.withMessage(re.stageDesc_requierd,ae)}}}},methods:{handleSubmit(){if(this.v$.$touch(),this.v$.$invalid)this.submitStatus="ERROR";else{const e=this.getBody();vt.cretaeProjectSatge(e).then(t=>{he().success(t,{timeout:3e3}),this.v$.$reset(),this.$emit("close")})}},getBody(){var t,o,n,i;const e=this.setForm;return{projectStageId:this.projectStageId,projectId:this.projectId,stageName:(t=e.stageEditName)!=null?t:"",stageDescription:(o=e.stageEditDescription)!=null?o:"",stagePromptButtonCopy:(n=e.stageEditCopy)!=null?n:"",stagePromptButtonUrl:(i=e.stageEditUrl)!=null?i:""}},handleClose(){this.v$.$reset(),this.$emit("closeNo")}}},bt=e=>(Ut("data-v-8ca3e722"),e=e(),Xt(),e),nn={class:"custom-model"},rn={class:"modal__content"},an={class:"modal-header"},sn=bt(()=>c("span",{class:"modal__title"},"Portal Project Stage",-1)),ln={class:"close-button"},dn=bt(()=>c("span",null,[c("img",{src:no,alt:"close"})],-1)),cn=[dn],un={class:"content-part"},hn={class:"portal-new-form"},fn=bt(()=>c("label",null,"Stage Name *",-1)),pn={class:"error-msg"},gn=bt(()=>c("label",null,"Stage Description *",-1)),mn={class:"error-msg"},vn={class:"form-group"},_n=bt(()=>c("label",null,"Stage Prompt button copy",-1)),bn={class:"form-group"},yn=bt(()=>c("label",null,"Stage Prompt button url",-1)),Sn={class:"btn-action-wrape"},wn=bt(()=>c("img",{src:io,alt:"delete"},null,-1)),Cn=[wn];function En(e,t,o,n,i,r){return A(),T("div",nn,[c("div",rn,[c("div",an,[sn,c("div",ln,[c("button",{type:"button",class:"close-btn",onClick:t[0]||(t[0]=(...a)=>r.handleClose&&r.handleClose(...a))},cn)])]),c("div",un,[c("div",hn,[c("form",{onSubmit:t[5]||(t[5]=Ke((...a)=>r.handleSubmit&&r.handleSubmit(...a),["prevent"]))},[c("div",{class:lt(["form-group",{error:n.v$.setForm.stageEditName.$errors.length}])},[fn,W(c("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=a=>n.v$.setForm.stageEditName.$model=a),placeholder:"Stage Name",maxlength:"155"},null,512),[[dt,n.v$.setForm.stageEditName.$model,void 0,{trim:!0}]])],2),(A(!0),T(mt,null,Rt(n.v$.setForm.stageEditName.$errors,a=>(A(),T("div",{class:"input-errors",key:a.$uid},[c("div",pn,ut(a.$message),1)]))),128)),c("div",{class:lt(["form-group",{error:n.v$.setForm.stageEditDescription.$errors.length}])},[gn,W(c("textarea",{class:"form-control",rows:"5","onUpdate:modelValue":t[2]||(t[2]=a=>n.v$.setForm.stageEditDescription.$model=a),placeholder:"Stage Description",maxlength:"500"},null,512),[[dt,n.v$.setForm.stageEditDescription.$model]])],2),(A(!0),T(mt,null,Rt(n.v$.setForm.stageEditDescription.$errors,a=>(A(),T("div",{class:"input-errors",key:a.$uid},[c("div",mn,ut(a.$message),1)]))),128)),c("div",vn,[_n,W(c("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=a=>i.setForm.stageEditCopy=a),placeholder:"Stage copy",maxlength:"30"},null,512),[[dt,i.setForm.stageEditCopy,void 0,{trim:!0}]])]),c("div",bn,[yn,W(c("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=a=>i.setForm.stageEditUrl=a),placeholder:"Stage url",maxlength:"255"},null,512),[[dt,i.setForm.stageEditUrl,void 0,{trim:!0}]])])],32),c("div",Sn,[c("button",{type:"button",class:"dlt-btn",onClick:t[6]||(t[6]=(...a)=>r.handleClose&&r.handleClose(...a))},Cn),c("button",{class:"btn-action",onClick:t[7]||(t[7]=(...a)=>r.handleSubmit&&r.handleSubmit(...a))},"Update Stage")])])])])])}var Dn=Vt(on,[["render",En],["__scopeId","data-v-8ca3e722"]]);const Yt=e=>(Ut("data-v-7aba01ed"),e=e(),Xt(),e),In=Yt(()=>c("button",{class:"drag-btn handle"},[c("img",{src:No,alt:"drop"})],-1)),xn={class:"number"},An={key:"header-customer"},Tn={key:"header-email"},Pn={class:"__cell __cell-link"},On=["id"],Nn=Yt(()=>c("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[c("g",{id:"Group 5 Copy"},[c("path",{id:"Fill 1","fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.6963 15.3474C9.68428 15.3474 8.04828 13.7114 8.04828 11.6994C8.04828 9.6884 9.68428 8.0524 11.6963 8.0524C13.7083 8.0524 15.3443 9.6884 15.3443 11.6994C15.3443 13.7114 13.7083 15.3474 11.6963 15.3474ZM11.6963 7.0524C9.13328 7.0524 7.04828 9.1374 7.04828 11.6994C7.04828 14.2624 9.13328 16.3474 11.6963 16.3474C14.2593 16.3474 16.3443 14.2624 16.3443 11.6994C16.3443 9.1374 14.2593 7.0524 11.6963 7.0524Z",fill:"#888888"}),c("path",{id:"Fill 3","fill-rule":"evenodd","clip-rule":"evenodd",d:"M22.337 12.8015L19.689 13.1485C19.483 13.1755 19.316 13.3255 19.267 13.5265C19.078 14.3145 18.766 15.0655 18.343 15.7575C18.234 15.9345 18.247 16.1595 18.373 16.3235L20.002 18.4435C19.537 19.0145 19.015 19.5365 18.444 20.0015L16.325 18.3725C16.162 18.2465 15.936 18.2355 15.759 18.3435C15.066 18.7685 14.315 19.0795 13.527 19.2695C13.326 19.3185 13.175 19.4855 13.149 19.6905L12.802 22.3405C12.057 22.4185 11.344 22.4195 10.599 22.3405L10.252 19.6935C10.226 19.4875 10.075 19.3205 9.874 19.2715C9.086 19.0825 8.333 18.7715 7.637 18.3455C7.463 18.2385 7.236 18.2495 7.072 18.3755L4.953 20.0045C4.387 19.5435 3.858 19.0135 3.396 18.4475L5.024 16.3295C5.15 16.1645 5.162 15.9395 5.054 15.7625C4.627 15.0685 4.315 14.3165 4.125 13.5265C4.077 13.3245 3.909 13.1745 3.704 13.1475L1.056 12.8005C0.981 12.0685 0.981 11.3305 1.056 10.5985L3.704 10.2525C3.909 10.2255 4.077 10.0745 4.125 9.8735C4.315 9.0835 4.627 8.3305 5.054 7.6365C5.162 7.4595 5.15 7.2345 5.024 7.0705L3.396 4.9515C3.858 4.3865 4.387 3.8565 4.953 3.3955L7.072 5.0245C7.236 5.1515 7.461 5.1625 7.638 5.0545C8.332 4.6295 9.084 4.3175 9.874 4.1275C10.075 4.0795 10.226 3.9115 10.252 3.7065L10.599 1.0585C11.343 0.979501 12.056 0.981501 12.802 1.0595L13.149 3.7085C13.175 3.9135 13.326 4.0815 13.527 4.1305C14.315 4.3195 15.066 4.6315 15.759 5.0565C15.936 5.1655 16.162 5.1535 16.325 5.0265L18.444 3.3985C19.015 3.8625 19.537 4.3845 20.002 4.9565L18.373 7.0755C18.247 7.2395 18.234 7.4655 18.343 7.6415C18.766 8.3345 19.078 9.0845 19.267 9.8725C19.316 10.0735 19.483 10.2245 19.689 10.2515L22.337 10.5975C22.415 11.3425 22.415 12.0575 22.337 12.8015ZM23.281 10.0845C23.25 9.8615 23.074 9.6865 22.851 9.6565L20.152 9.3035C19.966 8.6465 19.704 8.0145 19.371 7.4185L21.031 5.2585C21.168 5.0795 21.17 4.8315 21.034 4.6515C20.38 3.7875 19.611 3.0195 18.749 2.3665C18.569 2.2305 18.321 2.2325 18.143 2.3685L15.983 4.0285C15.385 3.6945 14.753 3.4315 14.096 3.2455L13.743 0.545501C13.713 0.321501 13.539 0.145501 13.316 0.114501C12.211 -0.0374988 11.191 -0.0384988 10.086 0.113501C9.862 0.144501 9.688 0.321501 9.658 0.544501L9.305 3.2425C8.646 3.4295 8.013 3.6915 7.415 4.0265L5.254 2.3655C5.076 2.2285 4.828 2.2265 4.648 2.3625C3.798 3.0065 3.008 3.7955 2.364 4.6465C2.228 4.8265 2.229 5.0745 2.366 5.2535L4.026 7.4125C3.69 8.0115 3.427 8.6455 3.241 9.3045L0.541 9.6575C0.318 9.6875 0.142 9.8625 0.111 10.0855C-0.037 11.1565 -0.037 12.2435 0.111 13.3145C0.142 13.5375 0.318 13.7125 0.541 13.7415L3.241 14.0955C3.427 14.7545 3.69 15.3885 4.026 15.9875L2.366 18.1465C2.229 18.3255 2.228 18.5735 2.364 18.7535C3.007 19.6035 3.797 20.3935 4.649 21.0365C4.828 21.1725 5.076 21.1705 5.254 21.0335L7.415 19.3735C8.014 19.7085 8.647 19.9705 9.305 20.1565L9.658 22.8555C9.688 23.0785 9.862 23.2545 10.086 23.2855C10.637 23.3615 11.164 23.3985 11.697 23.3985C12.233 23.3985 12.762 23.3615 13.316 23.2845C13.539 23.2535 13.713 23.0775 13.743 22.8545L14.096 20.1535C14.753 19.9685 15.385 19.7055 15.983 19.3705L18.143 21.0305C18.32 21.1675 18.568 21.1685 18.749 21.0325C19.611 20.3805 20.38 19.6115 21.034 18.7475C21.17 18.5685 21.168 18.3205 21.031 18.1415L19.371 15.9805C19.704 15.3845 19.966 14.7525 20.152 14.0955L22.851 13.7425C23.074 13.7135 23.25 13.5385 23.281 13.3155C23.434 12.2145 23.434 11.1875 23.281 10.0845Z",fill:"#888888"})])],-1)),$n=[Nn],jn=["id"],Fn=Yt(()=>c("span",{class:"edit_icon"},null,-1)),Mn=[Fn],kn={class:"portal-modal"},Ln=Yt(()=>c("span",{class:"duplicate_icon"},null,-1)),Rn=[Ln],Bn=Yt(()=>c("span",{class:"delete_icon"},null,-1)),Vn=[Bn],Un={key:"header-link"},Xn={__name:"project-stage-row",props:{portal:{type:Object,default:Object},isHeaderRow:{type:Boolean,default:!1},projectId:{type:Number,required:!0},portals:{type:Object,default:Object}},emits:["updateData"],setup(e,{emit:t}){const o=e,n=U(!1),i=U(!1);U(!1);const r=U({}),a=U(!1);U(0);const s=U(!1),l=E=>{E.length>55&&(s.value=!0)},d=E=>{E.length>55&&(s.value=!1)},f=E=>{for(var _=0;_<o.portals.length;_++)o.portals[_].projectStageId!=E?(document.getElementById(o.portals[_].projectStageId).classList.remove("setting-non"),document.getElementById(o.portals[_].projectStageId).classList.add("setting-block"),document.getElementById(o.portals[_].projectStageId+"id").classList.remove("setting-block"),document.getElementById(o.portals[_].projectStageId+"id").classList.add("setting-non")):(document.getElementById(E).classList.remove("setting-block"),document.getElementById(E).classList.add("setting-non"),document.getElementById(`${E}id`).classList.remove("setting-non"),document.getElementById(`${E}id`).classList.add("setting-block"));n.value=!n.value},h=E=>E===o.activeSortKey,m=E=>{vt.duplicateStageRecored(E).then(_=>{he().success(_.data,{timeout:3e3}),t("updateData")}).catch(_=>{})},b=()=>{a.value=!0},y=()=>{n.value=!1,a.value=!1,t("updateData")},w=()=>{a.value=!1,n.value=!1},L=E=>{vt.editProjectStageData(E).then(_=>{r.value=_.data.data}),i.value=!0},G=()=>{i.value=!1,n.value=!1,t("updateData")},N=()=>{i.value=!1,n.value=!1};return(E,_)=>{const q=$e("vue-final-modal"),Y=Je("tooltip");return A(),T("div",{class:lt(["PortalsTableRow",{isHeaderRow:e.isHeaderRow,isSortDescending:E.isSortDescending}])},[c("div",{class:lt(["__cell __cell-customer",{isActive:h("CustomerName")}])},[In,Bt(" "+ut(e.portal.stageName)+" ",1),c("h5",xn,ut(e.portal.displayOrder),1),e.isHeaderRow?(A(),T("div",An,"Stage Name")):pe("",!0)],2),c("div",{class:lt(["__cell __cell-email",{isActive:h("Email")}])},[W((A(),T("span",{class:lt(s.value?"tooltip":""),onMouseenter:_[0]||(_[0]=j=>l(e.portal.description)),onMouseleave:_[1]||(_[1]=j=>d(e.portal.description))},[Bt(ut(e.portal.description),1)],34)),[[Y,e.portal.description]]),e.isHeaderRow?(A(),T("div",Tn,"Description")):pe("",!0)],2),c("div",Pn,[e.isHeaderRow?pe("",!0):(A(),T("div",{class:"setting-btn setting-block",onClick:_[2]||(_[2]=j=>f(e.portal.projectStageId)),key:"link",name:"setting",id:`${e.portal.projectStageId}`},$n,8,On)),e.isHeaderRow?(A(),T("div",Un)):(A(),T("div",{class:"action-link setting-non",key:"link",id:`${e.portal.projectStageId}id`,name:"setting"},[c("button",{class:"action-btn",type:"button",onClick:_[3]||(_[3]=j=>L(e.portal.projectStageId))},Mn),tt(q,{modelValue:i.value,"onUpdate:modelValue":_[4]||(_[4]=j=>i.value=j),name:"create_portal",classes:"modal-container","click-to-close":!1,"content-class":"modal-content"},{default:ne(()=>[c("div",kn,[tt(Dn,{projectStageId:e.portal.projectStageId,projectId:e.projectId,onClose:G,onCloseNo:N,editProjectModal:i.value,editProjectStageData:r.value},null,8,["projectStageId","projectId","editProjectModal","editProjectStageData"])])]),_:1},8,["modelValue"]),c("button",{class:"action-btn",type:"button",onClick:_[5]||(_[5]=j=>m(e.portal.projectStageId))},Rn),c("button",{class:"action-btn",type:"button",onClick:b},Vn),tt(q,{classes:"modal-container","content-class":"modal-content",name:"delete-modal",modelValue:a.value,"onUpdate:modelValue":_[6]||(_[6]=j=>a.value=j),"click-to-close":!1},{default:ne(()=>[tt(Oo,{onClose:y,onCloseNo:w,projectId:e.portal.projectStageId,projectName:"projectStageList"},null,8,["projectId"])]),_:1},8,["modelValue"])],8,jn))])],2)}}};var Re=Vt(Xn,[["__scopeId","data-v-7aba01ed"]]);/*!
  * vue-draggable-next v2.1.0
  * (c) 2021 Anish George
  * @license MIT
  *//**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Be(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),o.push.apply(o,n)}return o}function K(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?Be(Object(o),!0).forEach(function(n){Yn(e,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Be(Object(o)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))})}return e}function Kt(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kt=function(t){return typeof t}:Kt=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kt(e)}function Yn(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function ot(){return ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},ot.apply(this,arguments)}function Hn(e,t){if(e==null)return{};var o={},n=Object.keys(e),i,r;for(r=0;r<n.length;r++)i=n[r],!(t.indexOf(i)>=0)&&(o[i]=e[i]);return o}function Gn(e,t){if(e==null)return{};var o=Hn(e,t),n,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(o[n]=e[n]))}return o}var zn="1.14.0";function et(e){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(e)}var nt=et(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ht=et(/Edge/i),Ve=et(/firefox/i),jt=et(/safari/i)&&!et(/chrome/i)&&!et(/android/i),ro=et(/iP(ad|od|hone)/i),Wn=et(/chrome/i)&&et(/android/i),ao={capture:!1,passive:!1};function C(e,t,o){e.addEventListener(t,o,!nt&&ao)}function S(e,t,o){e.removeEventListener(t,o,!nt&&ao)}function se(e,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function qn(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Q(e,t,o,n){if(e){o=o||document;do{if(t!=null&&(t[0]===">"?e.parentNode===o&&se(e,t):se(e,t))||n&&e===o)return e;if(e===o)break}while(e=qn(e))}return null}var Ue=/\s+/g;function B(e,t,o){if(e&&t)if(e.classList)e.classList[o?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(Ue," ").replace(" "+t+" "," ");e.className=(n+(o?" "+t:"")).replace(Ue," ")}}function p(e,t,o){var n=e&&e.style;if(n){if(o===void 0)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(o=e.currentStyle),t===void 0?o:o[t];!(t in n)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),n[t]=o+(typeof o=="string"?"":"px")}}function Et(e,t){var o="";if(typeof e=="string")o=e;else do{var n=p(e,"transform");n&&n!=="none"&&(o=n+" "+o)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(o)}function so(e,t,o){if(e){var n=e.getElementsByTagName(t),i=0,r=n.length;if(o)for(;i<r;i++)o(n[i],i);return n}return[]}function Z(){var e=document.scrollingElement;return e||document.documentElement}function O(e,t,o,n,i){if(!(!e.getBoundingClientRect&&e!==window)){var r,a,s,l,d,f,h;if(e!==window&&e.parentNode&&e!==Z()?(r=e.getBoundingClientRect(),a=r.top,s=r.left,l=r.bottom,d=r.right,f=r.height,h=r.width):(a=0,s=0,l=window.innerHeight,d=window.innerWidth,f=window.innerHeight,h=window.innerWidth),(t||o)&&e!==window&&(i=i||e.parentNode,!nt))do if(i&&i.getBoundingClientRect&&(p(i,"transform")!=="none"||o&&p(i,"position")!=="static")){var m=i.getBoundingClientRect();a-=m.top+parseInt(p(i,"border-top-width")),s-=m.left+parseInt(p(i,"border-left-width")),l=a+r.height,d=s+r.width;break}while(i=i.parentNode);if(n&&e!==window){var b=Et(i||e),y=b&&b.a,w=b&&b.d;b&&(a/=w,s/=y,h/=y,f/=w,l=a+f,d=s+h)}return{top:a,left:s,bottom:l,right:d,width:h,height:f}}}function Xe(e,t,o){for(var n=ct(e,!0),i=O(e)[t];n;){var r=O(n)[o],a=void 0;if(o==="top"||o==="left"?a=i>=r:a=i<=r,!a)return n;if(n===Z())break;n=ct(n,!1)}return!1}function Dt(e,t,o,n){for(var i=0,r=0,a=e.children;r<a.length;){if(a[r].style.display!=="none"&&a[r]!==g.ghost&&(n||a[r]!==g.dragged)&&Q(a[r],o.draggable,e,!1)){if(i===t)return a[r];i++}r++}return null}function je(e,t){for(var o=e.lastElementChild;o&&(o===g.ghost||p(o,"display")==="none"||t&&!se(o,t));)o=o.previousElementSibling;return o||null}function H(e,t){var o=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==g.clone&&(!t||se(e,t))&&o++;return o}function Ye(e){var t=0,o=0,n=Z();if(e)do{var i=Et(e),r=i.a,a=i.d;t+=e.scrollLeft*r,o+=e.scrollTop*a}while(e!==n&&(e=e.parentNode));return[t,o]}function Qn(e,t){for(var o in e)if(!!e.hasOwnProperty(o)){for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[o][n])return Number(o)}return-1}function ct(e,t){if(!e||!e.getBoundingClientRect)return Z();var o=e,n=!1;do if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var i=p(o);if(o.clientWidth<o.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||o.clientHeight<o.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!o.getBoundingClientRect||o===document.body)return Z();if(n||t)return o;n=!0}}while(o=o.parentNode);return Z()}function Zn(e,t){if(e&&t)for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e}function me(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Ft;function lo(e,t){return function(){if(!Ft){var o=arguments,n=this;o.length===1?e.call(n,o[0]):e.apply(n,o),Ft=setTimeout(function(){Ft=void 0},t)}}}function Kn(){clearTimeout(Ft),Ft=void 0}function co(e,t,o){e.scrollLeft+=t,e.scrollTop+=o}function uo(e){var t=window.Polymer,o=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):o?o(e).clone(!0)[0]:e.cloneNode(!0)}var X="Sortable"+new Date().getTime();function Jn(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(i){if(!(p(i,"display")==="none"||i===g.ghost)){e.push({target:i,rect:O(i)});var r=K({},e[e.length-1].rect);if(i.thisAnimationDuration){var a=Et(i,!0);a&&(r.top-=a.f,r.left-=a.e)}i.fromRect=r}})}},addAnimationState:function(n){e.push(n)},removeAnimationState:function(n){e.splice(Qn(e,{target:n}),1)},animateAll:function(n){var i=this;if(!this.options.animation){clearTimeout(t),typeof n=="function"&&n();return}var r=!1,a=0;e.forEach(function(s){var l=0,d=s.target,f=d.fromRect,h=O(d),m=d.prevFromRect,b=d.prevToRect,y=s.rect,w=Et(d,!0);w&&(h.top-=w.f,h.left-=w.e),d.toRect=h,d.thisAnimationDuration&&me(m,h)&&!me(f,h)&&(y.top-h.top)/(y.left-h.left)===(f.top-h.top)/(f.left-h.left)&&(l=ei(y,m,b,i.options)),me(h,f)||(d.prevFromRect=f,d.prevToRect=h,l||(l=i.options.animation),i.animate(d,y,h,l)),l&&(r=!0,a=Math.max(a,l),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},l),d.thisAnimationDuration=l)}),clearTimeout(t),r?t=setTimeout(function(){typeof n=="function"&&n()},a):typeof n=="function"&&n(),e=[]},animate:function(n,i,r,a){if(a){p(n,"transition",""),p(n,"transform","");var s=Et(this.el),l=s&&s.a,d=s&&s.d,f=(i.left-r.left)/(l||1),h=(i.top-r.top)/(d||1);n.animatingX=!!f,n.animatingY=!!h,p(n,"transform","translate3d("+f+"px,"+h+"px,0)"),this.forRepaintDummy=ti(n),p(n,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),p(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){p(n,"transition",""),p(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},a)}}}}function ti(e){return e.offsetWidth}function ei(e,t,o,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-o.top,2)+Math.pow(t.left-o.left,2))*n.animation}var yt=[],ve={initializeByDefault:!0},Gt={mount:function(t){for(var o in ve)ve.hasOwnProperty(o)&&!(o in t)&&(t[o]=ve[o]);yt.forEach(function(n){if(n.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),yt.push(t)},pluginEvent:function(t,o,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var r=t+"Global";yt.forEach(function(a){!o[a.pluginName]||(o[a.pluginName][r]&&o[a.pluginName][r](K({sortable:o},n)),o.options[a.pluginName]&&o[a.pluginName][t]&&o[a.pluginName][t](K({sortable:o},n)))})},initializePlugins:function(t,o,n,i){yt.forEach(function(s){var l=s.pluginName;if(!(!t.options[l]&&!s.initializeByDefault)){var d=new s(t,o,t.options);d.sortable=t,d.options=t.options,t[l]=d,ot(n,d.defaults)}});for(var r in t.options)if(!!t.options.hasOwnProperty(r)){var a=this.modifyOption(t,r,t.options[r]);typeof a!="undefined"&&(t.options[r]=a)}},getEventProperties:function(t,o){var n={};return yt.forEach(function(i){typeof i.eventProperties=="function"&&ot(n,i.eventProperties.call(o[i.pluginName],t))}),n},modifyOption:function(t,o,n){var i;return yt.forEach(function(r){!t[r.pluginName]||r.optionListeners&&typeof r.optionListeners[o]=="function"&&(i=r.optionListeners[o].call(t[r.pluginName],n))}),i}};function oi(e){var t=e.sortable,o=e.rootEl,n=e.name,i=e.targetEl,r=e.cloneEl,a=e.toEl,s=e.fromEl,l=e.oldIndex,d=e.newIndex,f=e.oldDraggableIndex,h=e.newDraggableIndex,m=e.originalEvent,b=e.putSortable,y=e.extraEventProperties;if(t=t||o&&o[X],!!t){var w,L=t.options,G="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!nt&&!Ht?w=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(w=document.createEvent("Event"),w.initEvent(n,!0,!0)),w.to=a||o,w.from=s||o,w.item=i||o,w.clone=r,w.oldIndex=l,w.newIndex=d,w.oldDraggableIndex=f,w.newDraggableIndex=h,w.originalEvent=m,w.pullMode=b?b.lastPutMode:void 0;var N=K(K({},y),Gt.getEventProperties(n,t));for(var E in N)w[E]=N[E];o&&o.dispatchEvent(w),L[G]&&L[G].call(t,w)}}var ni=["evt"],k=function(t,o){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.evt,r=Gn(n,ni);Gt.pluginEvent.bind(g)(t,o,K({dragEl:u,parentEl:I,ghostEl:v,rootEl:D,nextEl:gt,lastDownEl:Jt,cloneEl:x,cloneHidden:st,dragStarted:Ot,putSortable:$,activeSortable:g.active,originalEvent:i,oldIndex:Ct,oldDraggableIndex:Mt,newIndex:V,newDraggableIndex:at,hideGhostForTarget:go,unhideGhostForTarget:mo,cloneNowHidden:function(){st=!0},cloneNowShown:function(){st=!1},dispatchSortableEvent:function(s){M({sortable:o,name:s,originalEvent:i})}},r))};function M(e){oi(K({putSortable:$,cloneEl:x,targetEl:u,rootEl:D,oldIndex:Ct,oldDraggableIndex:Mt,newIndex:V,newDraggableIndex:at},e))}var u,I,v,D,gt,Jt,x,st,Ct,V,Mt,at,Wt,$,wt=!1,le=!1,de=[],ft,z,_e,be,He,Ge,Ot,St,kt,Lt=!1,qt=!1,te,F,ye=[],xe=!1,ce=[],fe=typeof document!="undefined",Qt=ro,ze=Ht||nt?"cssFloat":"float",ii=fe&&!Wn&&!ro&&"draggable"in document.createElement("div"),ho=function(){if(!!fe){if(nt)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),fo=function(t,o){var n=p(t),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=Dt(t,0,o),a=Dt(t,1,o),s=r&&p(r),l=a&&p(a),d=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+O(r).width,f=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+O(a).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&s.float&&s.float!=="none"){var h=s.float==="left"?"left":"right";return a&&(l.clear==="both"||l.clear===h)?"vertical":"horizontal"}return r&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||d>=i&&n[ze]==="none"||a&&n[ze]==="none"&&d+f>i)?"vertical":"horizontal"},ri=function(t,o,n){var i=n?t.left:t.top,r=n?t.right:t.bottom,a=n?t.width:t.height,s=n?o.left:o.top,l=n?o.right:o.bottom,d=n?o.width:o.height;return i===s||r===l||i+a/2===s+d/2},ai=function(t,o){var n;return de.some(function(i){var r=i[X].options.emptyInsertThreshold;if(!(!r||je(i))){var a=O(i),s=t>=a.left-r&&t<=a.right+r,l=o>=a.top-r&&o<=a.bottom+r;if(s&&l)return n=i}}),n},po=function(t){function o(r,a){return function(s,l,d,f){var h=s.options.group.name&&l.options.group.name&&s.options.group.name===l.options.group.name;if(r==null&&(a||h))return!0;if(r==null||r===!1)return!1;if(a&&r==="clone")return r;if(typeof r=="function")return o(r(s,l,d,f),a)(s,l,d,f);var m=(a?s:l).options.group.name;return r===!0||typeof r=="string"&&r===m||r.join&&r.indexOf(m)>-1}}var n={},i=t.group;(!i||Kt(i)!="object")&&(i={name:i}),n.name=i.name,n.checkPull=o(i.pull,!0),n.checkPut=o(i.put),n.revertClone=i.revertClone,t.group=n},go=function(){!ho&&v&&p(v,"display","none")},mo=function(){!ho&&v&&p(v,"display","")};fe&&document.addEventListener("click",function(e){if(le)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),le=!1,!1},!0);var pt=function(t){if(u){t=t.touches?t.touches[0]:t;var o=ai(t.clientX,t.clientY);if(o){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.target=n.rootEl=o,n.preventDefault=void 0,n.stopPropagation=void 0,o[X]._onDragOver(n)}}},si=function(t){u&&u.parentNode[X]._isOutsideThisEl(t.target)};function g(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=ot({},t),e[X]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return fo(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,s){a.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:g.supportPointer!==!1&&"PointerEvent"in window&&!jt,emptyInsertThreshold:5};Gt.initializePlugins(this,e,o);for(var n in o)!(n in t)&&(t[n]=o[n]);po(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:ii,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?C(e,"pointerdown",this._onTapStart):(C(e,"mousedown",this._onTapStart),C(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(C(e,"dragover",this),C(e,"dragenter",this)),de.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),ot(this,Jn())}g.prototype={constructor:g,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(St=null)},_getDirection:function(t,o){return typeof this.options.direction=="function"?this.options.direction.call(this,t,o,u):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var o=this,n=this.el,i=this.options,r=i.preventOnFilter,a=t.type,s=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(s||t).target,d=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,f=i.filter;if(gi(n),!u&&!(/mousedown|pointerdown/.test(a)&&t.button!==0||i.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&jt&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Q(l,i.draggable,n,!1),!(l&&l.animated)&&Jt!==l)){if(Ct=H(l),Mt=H(l,i.draggable),typeof f=="function"){if(f.call(this,t,l,this)){M({sortable:o,rootEl:d,name:"filter",targetEl:l,toEl:n,fromEl:n}),k("filter",o,{evt:t}),r&&t.cancelable&&t.preventDefault();return}}else if(f&&(f=f.split(",").some(function(h){if(h=Q(d,h.trim(),n,!1),h)return M({sortable:o,rootEl:h,name:"filter",targetEl:l,fromEl:n,toEl:n}),k("filter",o,{evt:t}),!0}),f)){r&&t.cancelable&&t.preventDefault();return}i.handle&&!Q(d,i.handle,n,!1)||this._prepareDragStart(t,s,l)}}},_prepareDragStart:function(t,o,n){var i=this,r=i.el,a=i.options,s=r.ownerDocument,l;if(n&&!u&&n.parentNode===r){var d=O(n);if(D=r,u=n,I=u.parentNode,gt=u.nextSibling,Jt=n,Wt=a.group,g.dragged=u,ft={target:u,clientX:(o||t).clientX,clientY:(o||t).clientY},He=ft.clientX-d.left,Ge=ft.clientY-d.top,this._lastX=(o||t).clientX,this._lastY=(o||t).clientY,u.style["will-change"]="all",l=function(){if(k("delayEnded",i,{evt:t}),g.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Ve&&i.nativeDraggable&&(u.draggable=!0),i._triggerDragStart(t,o),M({sortable:i,name:"choose",originalEvent:t}),B(u,a.chosenClass,!0)},a.ignore.split(",").forEach(function(f){so(u,f.trim(),Se)}),C(s,"dragover",pt),C(s,"mousemove",pt),C(s,"touchmove",pt),C(s,"mouseup",i._onDrop),C(s,"touchend",i._onDrop),C(s,"touchcancel",i._onDrop),Ve&&this.nativeDraggable&&(this.options.touchStartThreshold=4,u.draggable=!0),k("delayStart",this,{evt:t}),a.delay&&(!a.delayOnTouchOnly||o)&&(!this.nativeDraggable||!(Ht||nt))){if(g.eventCanceled){this._onDrop();return}C(s,"mouseup",i._disableDelayedDrag),C(s,"touchend",i._disableDelayedDrag),C(s,"touchcancel",i._disableDelayedDrag),C(s,"mousemove",i._delayedDragTouchMoveHandler),C(s,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&C(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,a.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var o=t.touches?t.touches[0]:t;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){u&&Se(u),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;S(t,"mouseup",this._disableDelayedDrag),S(t,"touchend",this._disableDelayedDrag),S(t,"touchcancel",this._disableDelayedDrag),S(t,"mousemove",this._delayedDragTouchMoveHandler),S(t,"touchmove",this._delayedDragTouchMoveHandler),S(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,o){o=o||t.pointerType=="touch"&&t,!this.nativeDraggable||o?this.options.supportPointer?C(document,"pointermove",this._onTouchMove):o?C(document,"touchmove",this._onTouchMove):C(document,"mousemove",this._onTouchMove):(C(u,"dragend",this),C(D,"dragstart",this._onDragStart));try{document.selection?ee(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,o){if(wt=!1,D&&u){k("dragStarted",this,{evt:o}),this.nativeDraggable&&C(document,"dragover",si);var n=this.options;!t&&B(u,n.dragClass,!1),B(u,n.ghostClass,!0),g.active=this,t&&this._appendGhost(),M({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(z){this._lastX=z.clientX,this._lastY=z.clientY,go();for(var t=document.elementFromPoint(z.clientX,z.clientY),o=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(z.clientX,z.clientY),t!==o);)o=t;if(u.parentNode[X]._isOutsideThisEl(t),o)do{if(o[X]){var n=void 0;if(n=o[X]._onDragOver({clientX:z.clientX,clientY:z.clientY,target:t,rootEl:o}),n&&!this.options.dragoverBubble)break}t=o}while(o=o.parentNode);mo()}},_onTouchMove:function(t){if(ft){var o=this.options,n=o.fallbackTolerance,i=o.fallbackOffset,r=t.touches?t.touches[0]:t,a=v&&Et(v,!0),s=v&&a&&a.a,l=v&&a&&a.d,d=Qt&&F&&Ye(F),f=(r.clientX-ft.clientX+i.x)/(s||1)+(d?d[0]-ye[0]:0)/(s||1),h=(r.clientY-ft.clientY+i.y)/(l||1)+(d?d[1]-ye[1]:0)/(l||1);if(!g.active&&!wt){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(v){a?(a.e+=f-(_e||0),a.f+=h-(be||0)):a={a:1,b:0,c:0,d:1,e:f,f:h};var m="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");p(v,"webkitTransform",m),p(v,"mozTransform",m),p(v,"msTransform",m),p(v,"transform",m),_e=f,be=h,z=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!v){var t=this.options.fallbackOnBody?document.body:D,o=O(u,!0,Qt,!0,t),n=this.options;if(Qt){for(F=t;p(F,"position")==="static"&&p(F,"transform")==="none"&&F!==document;)F=F.parentNode;F!==document.body&&F!==document.documentElement?(F===document&&(F=Z()),o.top+=F.scrollTop,o.left+=F.scrollLeft):F=Z(),ye=Ye(F)}v=u.cloneNode(!0),B(v,n.ghostClass,!1),B(v,n.fallbackClass,!0),B(v,n.dragClass,!0),p(v,"transition",""),p(v,"transform",""),p(v,"box-sizing","border-box"),p(v,"margin",0),p(v,"top",o.top),p(v,"left",o.left),p(v,"width",o.width),p(v,"height",o.height),p(v,"opacity","0.8"),p(v,"position",Qt?"absolute":"fixed"),p(v,"zIndex","100000"),p(v,"pointerEvents","none"),g.ghost=v,t.appendChild(v),p(v,"transform-origin",He/parseInt(v.style.width)*100+"% "+Ge/parseInt(v.style.height)*100+"%")}},_onDragStart:function(t,o){var n=this,i=t.dataTransfer,r=n.options;if(k("dragStart",this,{evt:t}),g.eventCanceled){this._onDrop();return}k("setupClone",this),g.eventCanceled||(x=uo(u),x.draggable=!1,x.style["will-change"]="",this._hideClone(),B(x,this.options.chosenClass,!1),g.clone=x),n.cloneId=ee(function(){k("clone",n),!g.eventCanceled&&(n.options.removeCloneOnHide||D.insertBefore(x,u),n._hideClone(),M({sortable:n,name:"clone"}))}),!o&&B(u,r.dragClass,!0),o?(le=!0,n._loopId=setInterval(n._emulateDragOver,50)):(S(document,"mouseup",n._onDrop),S(document,"touchend",n._onDrop),S(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(n,i,u)),C(document,"drop",n),p(u,"transform","translateZ(0)")),wt=!0,n._dragStartId=ee(n._dragStarted.bind(n,o,t)),C(document,"selectstart",n),Ot=!0,jt&&p(document.body,"user-select","none")},_onDragOver:function(t){var o=this.el,n=t.target,i,r,a,s=this.options,l=s.group,d=g.active,f=Wt===l,h=s.sort,m=$||d,b,y=this,w=!1;if(xe)return;function L(Pt,So){k(Pt,y,K({evt:t,isOwner:f,axis:b?"vertical":"horizontal",revert:a,dragRect:i,targetRect:r,canSort:h,fromSortable:m,target:n,completed:N,onMove:function(ke,wo){return Zt(D,o,u,i,ke,O(ke),t,wo)},changed:E},So))}function G(){L("dragOverAnimationCapture"),y.captureAnimationState(),y!==m&&m.captureAnimationState()}function N(Pt){return L("dragOverCompleted",{insertion:Pt}),Pt&&(f?d._hideClone():d._showClone(y),y!==m&&(B(u,$?$.options.ghostClass:d.options.ghostClass,!1),B(u,s.ghostClass,!0)),$!==y&&y!==g.active?$=y:y===g.active&&$&&($=null),m===y&&(y._ignoreWhileAnimating=n),y.animateAll(function(){L("dragOverAnimationComplete"),y._ignoreWhileAnimating=null}),y!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(n===u&&!u.animated||n===o&&!n.animated)&&(St=null),!s.dragoverBubble&&!t.rootEl&&n!==document&&(u.parentNode[X]._isOutsideThisEl(t.target),!Pt&&pt(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),w=!0}function E(){V=H(u),at=H(u,s.draggable),M({sortable:y,name:"change",toEl:o,newIndex:V,newDraggableIndex:at,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),n=Q(n,s.draggable,o,!0),L("dragOver"),g.eventCanceled)return w;if(u.contains(t.target)||n.animated&&n.animatingX&&n.animatingY||y._ignoreWhileAnimating===n)return N(!1);if(le=!1,d&&!s.disabled&&(f?h||(a=I!==D):$===this||(this.lastPutMode=Wt.checkPull(this,d,u,t))&&l.checkPut(this,d,u,t))){if(b=this._getDirection(t,n)==="vertical",i=O(u),L("dragOverValid"),g.eventCanceled)return w;if(a)return I=D,G(),this._hideClone(),L("revert"),g.eventCanceled||(gt?D.insertBefore(u,gt):D.appendChild(u)),N(!0);var _=je(o,s.draggable);if(!_||ui(t,b,this)&&!_.animated){if(_===u)return N(!1);if(_&&o===t.target&&(n=_),n&&(r=O(n)),Zt(D,o,u,i,n,r,t,!!n)!==!1)return G(),o.appendChild(u),I=o,E(),N(!0)}else if(_&&ci(t,b,this)){var q=Dt(o,0,s,!0);if(q===u)return N(!1);if(n=q,r=O(n),Zt(D,o,u,i,n,r,t,!1)!==!1)return G(),o.insertBefore(u,q),I=o,E(),N(!0)}else if(n.parentNode===o){r=O(n);var Y=0,j,It=u.parentNode!==o,R=!ri(u.animated&&u.toRect||i,n.animated&&n.toRect||r,b),xt=b?"top":"left",it=Xe(n,"top","top")||Xe(u,"top","top"),At=it?it.scrollTop:void 0;St!==n&&(j=r[xt],Lt=!1,qt=!R&&s.invertSwap||It),Y=hi(t,n,r,b,R?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,qt,St===n);var J;if(Y!==0){var ht=H(u);do ht-=Y,J=I.children[ht];while(J&&(p(J,"display")==="none"||J===v))}if(Y===0||J===n)return N(!1);St=n,kt=Y;var Tt=n.nextElementSibling,rt=!1;rt=Y===1;var zt=Zt(D,o,u,i,n,r,t,rt);if(zt!==!1)return(zt===1||zt===-1)&&(rt=zt===1),xe=!0,setTimeout(di,30),G(),rt&&!Tt?o.appendChild(u):n.parentNode.insertBefore(u,rt?Tt:n),it&&co(it,0,At-it.scrollTop),I=u.parentNode,j!==void 0&&!qt&&(te=Math.abs(j-O(n)[xt])),E(),N(!0)}if(o.contains(u))return N(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){S(document,"mousemove",this._onTouchMove),S(document,"touchmove",this._onTouchMove),S(document,"pointermove",this._onTouchMove),S(document,"dragover",pt),S(document,"mousemove",pt),S(document,"touchmove",pt)},_offUpEvents:function(){var t=this.el.ownerDocument;S(t,"mouseup",this._onDrop),S(t,"touchend",this._onDrop),S(t,"pointerup",this._onDrop),S(t,"touchcancel",this._onDrop),S(document,"selectstart",this)},_onDrop:function(t){var o=this.el,n=this.options;if(V=H(u),at=H(u,n.draggable),k("drop",this,{evt:t}),I=u&&u.parentNode,V=H(u),at=H(u,n.draggable),g.eventCanceled){this._nulling();return}wt=!1,qt=!1,Lt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ae(this.cloneId),Ae(this._dragStartId),this.nativeDraggable&&(S(document,"drop",this),S(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),jt&&p(document.body,"user-select",""),p(u,"transform",""),t&&(Ot&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),v&&v.parentNode&&v.parentNode.removeChild(v),(D===I||$&&$.lastPutMode!=="clone")&&x&&x.parentNode&&x.parentNode.removeChild(x),u&&(this.nativeDraggable&&S(u,"dragend",this),Se(u),u.style["will-change"]="",Ot&&!wt&&B(u,$?$.options.ghostClass:this.options.ghostClass,!1),B(u,this.options.chosenClass,!1),M({sortable:this,name:"unchoose",toEl:I,newIndex:null,newDraggableIndex:null,originalEvent:t}),D!==I?(V>=0&&(M({rootEl:I,name:"add",toEl:I,fromEl:D,originalEvent:t}),M({sortable:this,name:"remove",toEl:I,originalEvent:t}),M({rootEl:I,name:"sort",toEl:I,fromEl:D,originalEvent:t}),M({sortable:this,name:"sort",toEl:I,originalEvent:t})),$&&$.save()):V!==Ct&&V>=0&&(M({sortable:this,name:"update",toEl:I,originalEvent:t}),M({sortable:this,name:"sort",toEl:I,originalEvent:t})),g.active&&((V==null||V===-1)&&(V=Ct,at=Mt),M({sortable:this,name:"end",toEl:I,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){k("nulling",this),D=u=I=v=gt=x=Jt=st=ft=z=Ot=V=at=Ct=Mt=St=kt=$=Wt=g.dragged=g.ghost=g.clone=g.active=null,ce.forEach(function(t){t.checked=!0}),ce.length=_e=be=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":u&&(this._onDragOver(t),li(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],o,n=this.el.children,i=0,r=n.length,a=this.options;i<r;i++)o=n[i],Q(o,a.draggable,this.el,!1)&&t.push(o.getAttribute(a.dataIdAttr)||pi(o));return t},sort:function(t,o){var n={},i=this.el;this.toArray().forEach(function(r,a){var s=i.children[a];Q(s,this.options.draggable,i,!1)&&(n[r]=s)},this),o&&this.captureAnimationState(),t.forEach(function(r){n[r]&&(i.removeChild(n[r]),i.appendChild(n[r]))}),o&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,o){return Q(t,o||this.options.draggable,this.el,!1)},option:function(t,o){var n=this.options;if(o===void 0)return n[t];var i=Gt.modifyOption(this,t,o);typeof i!="undefined"?n[t]=i:n[t]=o,t==="group"&&po(n)},destroy:function(){k("destroy",this);var t=this.el;t[X]=null,S(t,"mousedown",this._onTapStart),S(t,"touchstart",this._onTapStart),S(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(S(t,"dragover",this),S(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(o){o.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),de.splice(de.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!st){if(k("hideClone",this),g.eventCanceled)return;p(x,"display","none"),this.options.removeCloneOnHide&&x.parentNode&&x.parentNode.removeChild(x),st=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(st){if(k("showClone",this),g.eventCanceled)return;u.parentNode==D&&!this.options.group.revertClone?D.insertBefore(x,u):gt?D.insertBefore(x,gt):D.appendChild(x),this.options.group.revertClone&&this.animate(u,x),p(x,"display",""),st=!1}}};function li(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Zt(e,t,o,n,i,r,a,s){var l,d=e[X],f=d.options.onMove,h;return window.CustomEvent&&!nt&&!Ht?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=o,l.draggedRect=n,l.related=i||t,l.relatedRect=r||O(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),f&&(h=f.call(d,l,a)),h}function Se(e){e.draggable=!1}function di(){xe=!1}function ci(e,t,o){var n=O(Dt(o.el,0,o.options,!0)),i=10;return t?e.clientX<n.left-i||e.clientY<n.top&&e.clientX<n.right:e.clientY<n.top-i||e.clientY<n.bottom&&e.clientX<n.left}function ui(e,t,o){var n=O(je(o.el,o.options.draggable)),i=10;return t?e.clientX>n.right+i||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+i}function hi(e,t,o,n,i,r,a,s){var l=n?e.clientY:e.clientX,d=n?o.height:o.width,f=n?o.top:o.left,h=n?o.bottom:o.right,m=!1;if(!a){if(s&&te<d*i){if(!Lt&&(kt===1?l>f+d*r/2:l<h-d*r/2)&&(Lt=!0),Lt)m=!0;else if(kt===1?l<f+te:l>h-te)return-kt}else if(l>f+d*(1-i)/2&&l<h-d*(1-i)/2)return fi(t)}return m=m||a,m&&(l<f+d*r/2||l>h-d*r/2)?l>f+d/2?1:-1:0}function fi(e){return H(u)<H(e)?1:-1}function pi(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,o=t.length,n=0;o--;)n+=t.charCodeAt(o);return n.toString(36)}function gi(e){ce.length=0;for(var t=e.getElementsByTagName("input"),o=t.length;o--;){var n=t[o];n.checked&&ce.push(n)}}function ee(e){return setTimeout(e,0)}function Ae(e){return clearTimeout(e)}fe&&C(document,"touchmove",function(e){(g.active||wt)&&e.cancelable&&e.preventDefault()});g.utils={on:C,off:S,css:p,find:so,is:function(t,o){return!!Q(t,o,t,!1)},extend:Zn,throttle:lo,closest:Q,toggleClass:B,clone:uo,index:H,nextTick:ee,cancelNextTick:Ae,detectDirection:fo,getChild:Dt};g.get=function(e){return e[X]};g.mount=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];t[0].constructor===Array&&(t=t[0]),t.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(g.utils=K(K({},g.utils),n.utils)),Gt.mount(n)})};g.create=function(e,t){return new g(e,t)};g.version=zn;var P=[],Nt,Te,Pe=!1,we,Ce,ue,$t;function mi(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(o){var n=o.originalEvent;this.sortable.nativeDraggable?C(document,"dragover",this._handleAutoScroll):this.options.supportPointer?C(document,"pointermove",this._handleFallbackAutoScroll):n.touches?C(document,"touchmove",this._handleFallbackAutoScroll):C(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(o){var n=o.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?S(document,"dragover",this._handleAutoScroll):(S(document,"pointermove",this._handleFallbackAutoScroll),S(document,"touchmove",this._handleFallbackAutoScroll),S(document,"mousemove",this._handleFallbackAutoScroll)),We(),oe(),Kn()},nulling:function(){ue=Te=Nt=Pe=$t=we=Ce=null,P.length=0},_handleFallbackAutoScroll:function(o){this._handleAutoScroll(o,!0)},_handleAutoScroll:function(o,n){var i=this,r=(o.touches?o.touches[0]:o).clientX,a=(o.touches?o.touches[0]:o).clientY,s=document.elementFromPoint(r,a);if(ue=o,n||this.options.forceAutoScrollFallback||Ht||nt||jt){Ee(o,this.options,s,n);var l=ct(s,!0);Pe&&(!$t||r!==we||a!==Ce)&&($t&&We(),$t=setInterval(function(){var d=ct(document.elementFromPoint(r,a),!0);d!==l&&(l=d,oe()),Ee(o,i.options,d,n)},10),we=r,Ce=a)}else{if(!this.options.bubbleScroll||ct(s,!0)===Z()){oe();return}Ee(o,this.options,ct(s,!1),!1)}}},ot(e,{pluginName:"scroll",initializeByDefault:!0})}function oe(){P.forEach(function(e){clearInterval(e.pid)}),P=[]}function We(){clearInterval($t)}var Ee=lo(function(e,t,o,n){if(!!t.scroll){var i=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,s=t.scrollSpeed,l=Z(),d=!1,f;Te!==o&&(Te=o,oe(),Nt=t.scroll,f=t.scrollFn,Nt===!0&&(Nt=ct(o,!0)));var h=0,m=Nt;do{var b=m,y=O(b),w=y.top,L=y.bottom,G=y.left,N=y.right,E=y.width,_=y.height,q=void 0,Y=void 0,j=b.scrollWidth,It=b.scrollHeight,R=p(b),xt=b.scrollLeft,it=b.scrollTop;b===l?(q=E<j&&(R.overflowX==="auto"||R.overflowX==="scroll"||R.overflowX==="visible"),Y=_<It&&(R.overflowY==="auto"||R.overflowY==="scroll"||R.overflowY==="visible")):(q=E<j&&(R.overflowX==="auto"||R.overflowX==="scroll"),Y=_<It&&(R.overflowY==="auto"||R.overflowY==="scroll"));var At=q&&(Math.abs(N-i)<=a&&xt+E<j)-(Math.abs(G-i)<=a&&!!xt),J=Y&&(Math.abs(L-r)<=a&&it+_<It)-(Math.abs(w-r)<=a&&!!it);if(!P[h])for(var ht=0;ht<=h;ht++)P[ht]||(P[ht]={});(P[h].vx!=At||P[h].vy!=J||P[h].el!==b)&&(P[h].el=b,P[h].vx=At,P[h].vy=J,clearInterval(P[h].pid),(At!=0||J!=0)&&(d=!0,P[h].pid=setInterval(function(){n&&this.layer===0&&g.active._onTouchMove(ue);var Tt=P[this.layer].vy?P[this.layer].vy*s:0,rt=P[this.layer].vx?P[this.layer].vx*s:0;typeof f=="function"&&f.call(g.dragged.parentNode[X],rt,Tt,e,ue,P[this.layer].el)!=="continue"||co(P[this.layer].el,rt,Tt)}.bind({layer:h}),24))),h++}while(t.bubbleScroll&&m!==l&&(m=ct(m,!1)));Pe=d}},30),vo=function(t){var o=t.originalEvent,n=t.putSortable,i=t.dragEl,r=t.activeSortable,a=t.dispatchSortableEvent,s=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(!!o){var d=n||r;s();var f=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,h=document.elementFromPoint(f.clientX,f.clientY);l(),d&&!d.el.contains(h)&&(a("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function Fe(){}Fe.prototype={startIndex:null,dragStart:function(t){var o=t.oldDraggableIndex;this.startIndex=o},onSpill:function(t){var o=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=Dt(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(o,i):this.sortable.el.appendChild(o),this.sortable.animateAll(),n&&n.animateAll()},drop:vo};ot(Fe,{pluginName:"revertOnSpill"});function Me(){}Me.prototype={onSpill:function(t){var o=t.dragEl,n=t.putSortable,i=n||this.sortable;i.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),i.animateAll()},drop:vo};ot(Me,{pluginName:"removeOnSpill"});g.mount(new mi);g.mount(Me,Fe);function vi(){return typeof window!="undefined"?window.console:global.console}const _i=vi();function bi(e){const t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}const yi=/-(\w)/g,qe=bi(e=>e.replace(yi,(t,o)=>o?o.toUpperCase():""));function De(e){e.parentElement!==null&&e.parentElement.removeChild(e)}function Qe(e,t,o){const n=o===0?e.children[0]:e.children[o-1].nextSibling;e.insertBefore(t,n)}function Si(e,t){return Object.values(e).indexOf(t)}function wi(e,t,o,n){if(!e)return[];const i=Object.values(e),r=t.length-n;return[...t].map((s,l)=>l>=r?i.length:i.indexOf(s))}function _o(e,t){this.$nextTick(()=>this.$emit(e.toLowerCase(),t))}function Ci(e){return t=>{this.realList!==null&&this["onDrag"+e](t),_o.call(this,e,t)}}function Ei(e){return["transition-group","TransitionGroup"].includes(e)}function Di(e){if(!e||e.length!==1)return!1;const[{type:t}]=e;return t?Ei(t.name):!1}function Ii(e,t){return t?{...t.props,...t.attrs}:e}const Oe=["Start","Add","Remove","Update","End"],Ne=["Choose","Unchoose","Sort","Filter","Clone"],xi=["Move",...Oe,...Ne].map(e=>"on"+e);let Ie=null;const Ai={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:e=>e},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},Ti=Eo({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...Oe.map(e=>e.toLowerCase()),...Ne.map(e=>e.toLowerCase())],props:Ai,data(){return{transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}},render(){const e=this.$slots.default?this.$slots.default():null,t=Ii(this.$attrs,this.componentData);return e?(this.transitionMode=Di(e),Le(this.getTag(),t,e)):Le(this.getTag(),t,[])},created(){this.list!==null&&this.modelValue!==null&&_i.error("list props are mutually exclusive! Please set one.")},mounted(){const e={};Oe.forEach(i=>{e["on"+i]=Ci.call(this,i)}),Ne.forEach(i=>{e["on"+i]=_o.bind(this,i)});const t=Object.keys(this.$attrs).reduce((i,r)=>(i[qe(r)]=this.$attrs[r],i),{}),o=Object.assign({},t,e,{onMove:(i,r)=>this.onDragMove(i,r)});!("draggable"in o)&&(o.draggable=">*");const n=this.$el.nodeType===1?this.$el:this.$el.parentElement;this._sortable=new g(n,o),n.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{this._sortable!==void 0&&this._sortable.destroy()}catch{}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(e){this.updateOptions(e)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?$e(this.component):this.tag},updateOptions(e){for(var t in e){const o=qe(t);xi.indexOf(o)===-1&&this._sortable.option(o,e[t])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick(()=>{this.visibleIndexes=wi(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)})},getUnderlyingVm(e){const t=Si(this.getChildrenNodes()||[],e);if(t===-1)return null;const o=this.realList[t];return{index:t,element:o}},emitChanges(e){this.$nextTick(()=>{this.$emit("change",e)})},alterList(e){if(this.list){e(this.list);return}const t=[...this.modelValue];e(t),this.$emit("update:modelValue",t)},spliceList(){const e=t=>t.splice(...arguments);this.alterList(e)},updatePosition(e,t){const o=n=>n.splice(t,0,n.splice(e,1)[0]);this.alterList(o)},getVmIndex(e){const t=this.visibleIndexes,o=t.length;return e>o-1?o:t[e]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(e){if(!this.noTransitionOnDrag||!this.transitionMode)return;var t=this.getChildrenNodes();t[e].data=null;const o=this.getComponent();o.children=[],o.kept=void 0},onDragStart(e){this.context=this.getUnderlyingVm(e.item),this.context&&(e.item._underlying_vm_=this.clone(this.context.element),Ie=e.item)},onDragAdd(e){const t=e.item._underlying_vm_;if(t===void 0)return;De(e.item);const o=this.getVmIndex(e.newIndex);this.spliceList(o,0,t),this.computeIndexes();const n={element:t,newIndex:o};this.emitChanges({added:n})},onDragRemove(e){if(Qe(this.$el,e.item,e.oldIndex),e.pullMode==="clone"){De(e.clone);return}if(!this.context)return;const t=this.context.index;this.spliceList(t,1);const o={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:o})},onDragUpdate(e){De(e.item),Qe(e.from,e.item,e.oldIndex);const t=this.context.index,o=this.getVmIndex(e.newIndex);this.updatePosition(t,o);const n={element:this.context.element,oldIndex:t,newIndex:o};this.emitChanges({moved:n})},updateProperty(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},onDragMove(e,t){const o=this.move;if(!o||!this.realList)return!0;const n=this.getRelatedContextFromMoveEvent(e),i=this.context,r=this.computeFutureIndex(n,e);Object.assign(i,{futureIndex:r});const a=Object.assign({},e,{relatedContext:n,draggedContext:i});return o(a,t)},onDragEnd(){this.computeIndexes(),Ie=null},getTrargetedComponent(e){return e.__draggable_component__},getRelatedContextFromMoveEvent({to:e,related:t}){const o=this.getTrargetedComponent(e);if(!o)return{component:o};const n=o.realList,i={list:n,component:o};if(e!==t&&n&&o.getUnderlyingVm){const r=o.getUnderlyingVm(t);if(r)return Object.assign(r,i)}return i},computeFutureIndex(e,t){const o=[...t.to.children].filter(a=>a.style.display!=="none");if(o.length===0)return 0;const n=o.indexOf(t.related),i=e.component.getVmIndex(n);return o.indexOf(Ie)!==-1||!t.willInsertAfter?i:i+1}}});const bo=e=>(Ut("data-v-6786b8dc"),e=e(),Xt(),e),Pi={class:"PortalsTable"},Oi=bo(()=>c("header",{class:"Controls"},null,-1)),Ni={class:"__rows row-custom"},$i={class:"__empty"},ji={class:"create-btn-main"},Fi=bo(()=>c("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[c("path",{d:"M12.3333 8.38888V12M12.3333 12V15.6111M12.3333 12H15.9444M12.3333 12H8.72222M23.1667 12C23.1667 17.9831 18.3164 22.8333 12.3333 22.8333C6.35025 22.8333 1.5 17.9831 1.5 12C1.5 6.0169 6.35025 1.16666 12.3333 1.16666C18.3164 1.16666 23.1667 6.0169 23.1667 12Z",stroke:"#113A6B","stroke-width":"2.225","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),Mi=Bt(" Add Stage "),ki=[Fi,Mi],Li={__name:"project-stage-table",props:{portals:{type:Array,required:!0},projectId:{type:String,required:!0}},emits:["updtaeDataParent"],setup(e,{emit:t}){const o=e,n=U(!1),i=U([]);i.value=Do(()=>o.portals);const r=()=>{t("updtaeDataParent")},a=()=>{const f=[];for(let m=0;m<o.portals.length;m++)f.push(o.portals[m].projectStageId);const h={projectId:o.projectId,projectStageIds:f};vt.orderStage(h).then(m=>{he().success(m,{timeout:3e3}),t("updtaeDataParent")}).catch(()=>{t("updtaeDataParent")})},s=()=>{n.value=!0,ge.show("add-stage-modal")},l=()=>{n.value=!1,ge.hide("add-stage-modal"),r()},d=()=>{n.value=!1,ge.hide("add-stage-modal")};return(f,h)=>{const m=$e("vue-final-modal");return A(),T(mt,null,[c("div",Pi,[Oi,c("div",Ni,[tt(Re,{class:"__header-row","is-header-row":!0}),tt(to(Ti),{list:e.portals,onChange:a,handle:".handle"},{default:ne(()=>[(A(!0),T(mt,null,Rt(e.portals,b=>(A(),Io(Re,{class:"__row",portal:b,portals:e.portals,key:b,projectId:e.projectId,onUpdateData:r},null,8,["portal","portals","projectId"]))),128))]),_:1},8,["list"])]),W(c("div",$i," No results found ",512),[[xo,!e.portals.length]])]),c("div",ji,[c("button",{class:"create-btn",onClick:s},ki),tt(m,{classes:"modal-container","content-class":"modal-content",name:"add-stage-modal",modelValue:n.value,"onUpdate:modelValue":h[0]||(h[0]=b=>n.value=b),"click-to-close":!1},{default:ne(()=>[tt(en,{onClose:l,onCloseNo:d,projectId:e.projectId},null,8,["projectId"])]),_:1},8,["modelValue"])])],64)}}};var Ri=Vt(Li,[["__scopeId","data-v-6786b8dc"]]);const yo=e=>(Ut("data-v-0985d073"),e=e(),Xt(),e),Bi={class:"StagesView"},Vi={class:"title"},Ui=yo(()=>c("img",{src:Co,alt:"create"},null,-1)),Xi=[Ui],Yi=Bt("Portal Project Stages "),Hi={class:"table-custom"},Gi=yo(()=>c("h3",null,"Manage Stages",-1)),zi={__name:"ProjectStage",setup(e){const t=Ao(),o=To();U(!0),U(!1);const n=U(""),i=U([]),r=o.params.id,a=()=>{vt.getProjectStage(r).then(d=>{const f=d.data.data;i.value=f.projectStages})};Po(()=>{vt.getProjectStage(r).then(d=>{n.value=d.data.data.projectName,i.value=d.data.data.projectStages})});const s=()=>{t.push(`/editProjectCustomization/${r}`)},l=()=>{t.push("/stages")};return(d,f)=>{const h=Je("tooltip");return A(),T(mt,null,[c("div",{class:"create-btn-main"},[c("button",{class:"create-btn",onClick:l}," Return to Projects ")]),c("div",Bi,[c("div",Vi,[c("a",{href:"#",class:"back-btn",onClick:s},Xi),c("h1",null,[Yi,W((A(),T("span",null,[Bt(ut(n.value),1)])),[[h,n.value]])])])]),c("div",Hi,[Gi,tt(Ri,{portals:i.value,projectId:to(r),onUpdtaeDataParent:a},null,8,["portals","projectId"])])],64)}}};var sr=Vt(zi,[["__scopeId","data-v-0985d073"]]);export{sr as default};
