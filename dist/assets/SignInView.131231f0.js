import{I as V}from"./InputGroup.289a36f5.js";import{B as I}from"./ButtonBase.34bd080f.js";import{_ as k,s as $,u as B,r as w,o as i,c as n,a as e,t as u,b as P,w as x,n as p,d as v,e as g,F as _,f,g as b,h as C,p as M,i as T,j as y}from"./index.07cdec20.js";import{u as E,c,m as h,r as S,e as q}from"./messages.d52f21eb.js";import"./InputText.386db282.js";/* empty css                                                              */const N={components:{InputGroup:V,ButtonBase:I},setup(){return{v$:E()}},data(){return{loginForm:{email:"",password:""},submitStatus:null,showPassword:!1,errorMsg:!1,terms:"http://www.portalcx.io/terms-and-conditions",privacy:"http://www.portalcx.io/privacy-policy"}},validations(){return{loginForm:{email:{required:c.withMessage(h.email_required,S),email:c.withMessage(h.email_valid,q)},password:{required:c.withMessage(h.password_required,S)}}}},methods:{toggleShow(){this.showPassword=!this.showPassword},handleSubmit(){this.v$.$touch(),this.v$.$invalid?this.submitStatus="ERROR":$.dispatch("auth/login",this.loginForm).then(t=>{t&&(localStorage.removeItem("setError"),this.$router.push({name:"overview"})),this.errorMsg=localStorage.getItem("setError")})}},beforeCreate(){localStorage.getItem("sessionTimeout")&&(B().error("Your session is expired. Please login again.",{timeout:3e3}),localStorage.removeItem("sessionTimeout"))}},d=t=>(M("data-v-151e44bf"),t=t(),T(),t),K={class:"SignInView"},G={class:"Form"},O=d(()=>e("div",{class:"__title"}," Sign In ",-1)),R={key:0,class:"toster-msg"},U={class:"error-msg"},L={class:"icon is-small is-right"},j={class:"error-msg"},z=d(()=>e("span",{class:"forgot-password"}," Forgot your password? ",-1)),A=[z],D=y(" Login"),Y=d(()=>e("i",{class:"fa-solid fa-arrow-right"},null,-1)),H=d(()=>e("div",{class:"signup-text"},[y("Need an account? "),e("a",{disabled:"",class:"sign-up-link"},"Sign up")],-1)),J={class:"terms-main"},Q=["href"],W=["href"];function X(t,o,Z,r,l,a){const m=w("InputGroup"),F=w("ButtonBase");return i(),n("div",K,[e("div",G,[O,l.errorMsg?(i(),n("span",R,u(l.errorMsg),1)):P("",!0),e("form",{onSubmit:o[8]||(o[8]=x((...s)=>a.handleSubmit&&a.handleSubmit(...s),["prevent"]))},[e("div",{class:p(["inputs",{error:r.v$.loginForm.email.$errors.length}])},[v(m,{label:"Email Address",onKeyup:o[0]||(o[0]=g(s=>a.handleSubmit(),["enter"])),modelValue:r.v$.loginForm.email.$model,"onUpdate:modelValue":o[1]||(o[1]=s=>r.v$.loginForm.email.$model=s),"input-props":{placeholder:"Email"}},null,8,["modelValue"]),(i(!0),n(_,null,f(r.v$.loginForm.email.$errors,s=>(i(),n("div",{class:"input-errors",key:s.$uid},[e("div",U,u(s.$message),1)]))),128))],2),e("div",{class:p(["inputs",{error:r.v$.loginForm.password.$errors.length}])},[l.showPassword?(i(),b(m,{key:0,onKeyup:o[2]||(o[2]=g(s=>a.handleSubmit(),["enter"])),label:"Password",modelValue:r.v$.loginForm.password.$model,"onUpdate:modelValue":o[3]||(o[3]=s=>r.v$.loginForm.password.$model=s),"input-props":{type:"text",placeholder:"Password"}},null,8,["modelValue"])):(i(),b(m,{key:1,label:"Password",onKeyup:o[4]||(o[4]=g(s=>a.handleSubmit(),["enter"])),modelValue:r.v$.loginForm.password.$model,"onUpdate:modelValue":o[5]||(o[5]=s=>r.v$.loginForm.password.$model=s),"input-props":{type:"password",placeholder:"Password"}},null,8,["modelValue"])),e("button",{type:"button",class:"button",onClick:o[6]||(o[6]=(...s)=>a.toggleShow&&a.toggleShow(...s))},[e("span",L,[e("i",{class:p(["fa",{"fa-eye-slash":l.showPassword,"fa-eye":!l.showPassword}])},null,2)])]),(i(!0),n(_,null,f(r.v$.loginForm.password.$errors,s=>(i(),n("div",{class:"input-errors",key:s.$uid},[e("div",j,u(s.$message),1)]))),128)),e("button",{onClick:o[7]||(o[7]=s=>t.$router.push("/forgot-password")),class:"forgot-password-btn",type:"button"},A)],2),v(F,{class:"__ButtonBase",onClick:a.handleSubmit},{default:C(()=>[D,Y]),_:1},8,["onClick"])],32),H,e("ul",J,[e("li",null,[e("a",{href:l.terms,target:"_blank"},"Terms & Conditions",8,Q)]),e("li",null,[e("a",{href:l.privacy,target:"_blank"},"Privacy Policy",8,W)])])])])}var ie=k(N,[["render",X],["__scopeId","data-v-151e44bf"]]);export{ie as default};
